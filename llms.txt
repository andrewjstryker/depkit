# depkit

**depkit** is a build-time HTML dependency kit for R. It tracks css/js
assets as ordered unique sets, copies newly discovered files, and emits
deterministic `<link>` / `<script>` snippets derived from dependency
metadata.

## Quick start

``` r
library(depkit)

dm <- DependencyManager(
  output_root = tempfile("asset-output"),
  url_root = "/assets"
)

dep <- htmltools::htmlDependency(
  name = "demo",
  version = "1.0.0",
  src = c(file = system.file("www", package = "htmlwidgets")),
  script = "htmlwidgets.js",
  stylesheet = "htmlwidgets.css"
)

u <- insert(dm, dep)

# emit only newly added assets
emit_css(u)
emit_js(u)

# emit all known assets
emit_css(dm(u))
emit_js(dm(u))
```

Insert always returns an `InsertUpdate` delta; emission is pure and
stateless.

# Package index

## API Reference

- [`DependencyManager()`](https://andrewjstryker.github.io/depkit/reference/DependencyManager.md)
  : Construct a DependencyManager
- [`dm()`](https://andrewjstryker.github.io/depkit/reference/dm.md) :
  Extract the DependencyManager from an InsertUpdate
- [`emit_css()`](https://andrewjstryker.github.io/depkit/reference/emit_css.md)
  : Emit CSS link tags
- [`emit_js()`](https://andrewjstryker.github.io/depkit/reference/emit_js.md)
  : Emit JS script tags
- [`has()`](https://andrewjstryker.github.io/depkit/reference/has.md) :
  Check whether dependencies are registered
- [`insert()`](https://andrewjstryker.github.io/depkit/reference/insert.md)
  : Insert dependencies
- [`is_empty()`](https://andrewjstryker.github.io/depkit/reference/is_empty.md)
  : Check if an InsertUpdate added nothing
- [`remove()`](https://andrewjstryker.github.io/depkit/reference/remove.md)
  : Remove dependencies

